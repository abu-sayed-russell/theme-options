<?php/** * @package  getwebThemeOption */namespace Getweb\Common;use Getweb\Common\BaseController;class TableController extends BaseController{	/*Create Database Table*/	public function option_table()	{		global $wpdb;		global $jal_db_version;		require_once(ABSPATH . '/wp-admin/includes/upgrade.php');		// create settings table		$db_table_name_menu = getweb_menu_table();		$db_table_name_field = getweb_field_table();		if ($wpdb->get_var("SHOW TABLES LIKE '$db_table_name_menu'") != $db_table_name_menu) {			if (!empty($wpdb->charset))				$charset_collate = "DEFAULT CHARACTER SET $wpdb->charset";			if (!empty($wpdb->collate))				$charset_collate .= " COLLATE $wpdb->collate";			$sql = "CREATE TABLE $db_table_name_menu (		id MEDIUMINT(9) NOT NULL AUTO_INCREMENT,                name VARCHAR(250) NOT NULL,                parent VARCHAR(250) NOT NULL DEFAULT 0,                 status INT(11) NOT NULL,                 extra_class VARCHAR(250) NOT NULL,                created_at timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,   		UNIQUE KEY id (id)		) $charset_collate;";			dbDelta($sql);		}		if ($wpdb->get_var("SHOW TABLES LIKE '$db_table_name_field'") != $db_table_name_field) {			if (!empty($wpdb->charset))				$charset_collate = "DEFAULT CHARACTER SET $wpdb->charset";			if (!empty($wpdb->collate))				$charset_collate .= " COLLATE $wpdb->collate";			$sql = "CREATE TABLE $db_table_name_field (		id MEDIUMINT(9) NOT NULL AUTO_INCREMENT,                title VARCHAR(250) NOT NULL,                description VARCHAR(250) NOT NULL,                get_id VARCHAR(250) NOT NULL,                default_value VARCHAR(250) NOT NULL,                custom_class VARCHAR(250) NOT NULL,                type VARCHAR(250) NOT NULL,                more_values VARCHAR(250) NULL ,                other VARCHAR(250) NULL ,                info VARCHAR(250) NULL ,                menu_id INT(250) NOT NULL,                status INT(11) NOT NULL,                created_at timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,   		UNIQUE KEY id (id)		) $charset_collate;";			dbDelta($sql);		}		add_option("jal_db_version", "WETWEB_OPTION_VERSION");	}}